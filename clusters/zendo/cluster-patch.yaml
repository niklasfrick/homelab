cluster:
  network:
    podSubnets:
      - 10.111.0.0/16
    serviceSubnets:
      - 10.112.0.0/12
    cni:
      name: none
  proxy:
    disabled: true
  extraManifests:
    - https://raw.githubusercontent.com/alex1989hu/kubelet-serving-cert-approver/main/deploy/standalone-install.yaml
    - https://github.com/kubernetes-sigs/metrics-server/releases/latest/download/components.yaml
  controllerManager:
    extraArgs:
      bind-address: 0.0.0.0
  scheduler:
    extraArgs:
      bind-address: 0.0.0.0

machine:
  install:
    extraKernelArgs:
      - net.ifnames=0
      - talos.platform=metal
  network:
    nameservers:
      - 10.96.10.1
      - 9.9.9.9
  time:
    disabled: false
    servers:
      [
        "0.ch.pool.ntp.org",
        "1.ch.pool.ntp.org",
        "2.ch.pool.ntp.org",
        "3.ch.pool.ntp.org",
      ]
  kubelet:
    extraArgs:
      rotate-server-certificates: "true"
  nodeLabels:
    bgp: "65020"
